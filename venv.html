<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Virtual Environments</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            color: #333;
        }
        h1, h2, h3 {
            border-bottom: 2px solid #ccc;
            padding-bottom: 5px;
        }
        h1 {
            font-size: 1.8em;
            margin-top: 0;
        }
        h2 {
            font-size: 1.5em;
        }
        h3 {
            font-size: 1.2em;
        }
        p {
            margin: 10px 0;
        }
        ul, ol {
            margin: 10px 0;
        }
        pre {
            background: #f4f4f4;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .sourceCode {
            font-family: 'Courier New', Courier, monospace;
            font-size: 1em;
        }
        .cell {
            margin-bottom: 20px;
        }
        .code-copy-button {
            background: #007bff;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
        }
        .code-copy-button:hover {
            background: #0056b3;
        }
        .blockquote {
            border-left: 4px solid #007bff;
            padding-left: 10px;
            margin: 10px 0;
            background: #f9f9f9;
        }
        .figure {
            margin: 10px 0;
        }
        .figure img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <section id="python-virtual-environments" class="level1">
        <h1><span class="header-section-number">1</span> Python Virtual Environments</h1>

        <section id="introduction" class="level2">
            <h2><span class="header-section-number">1.1</span> Introduction</h2>
            <p>Python is a programming language that adds new features at a very high rate. It is possible that new versions of a package we import will adopt these features. However, we may not always want to have only the latest version of every package; there may be conflicts with other packages we use.</p>
            <p>With Python, it is possible to create virtual environments for separate projects.</p>
            <blockquote class="blockquote">
                <p>Virtual environments allow us to maintain different combinations of package versions (and even Python itself) for individual projects that we work on.</p>
            </blockquote>
            <p>A <em>virtual environment</em> is simply a folder (i.e. directory) containing:</p>
            <ul>
                <li>Configuration information, and</li>
                <li>Installed Python packages (called site packages).</li>
            </ul>
            <p>To start using a virtual environment, we have to <em>activate</em> it first. Activating a virtual environment results in path settings being updated in our Operating System.</p>
            <p>Once we do so, the version of Python in that directory, along with the Python packages within that directory, will be the versions used in our work. Any pip installations that we invoke will install the packages in this directory.</p>
            <p>Once we are done working on this project, we <em>deactivate</em> the virtual environment.</p>
            <p>Of course, before we can do all of this, we need to <em>create</em> the virtual environment first.</p>
        </section>

        <section id="creating-a-virtual-environment" class="level2">
            <h2><span class="header-section-number">1.2</span> Creating a Virtual Environment</h2>

            <section id="through-anaconda" class="level3">
                <h3>Through Anaconda</h3>
                <ol>
                    <li>Start the Anaconda Navigator</li>
                    <li>Click on Environments on the left.</li>
                    <li>Click on the “+” sign on the bottom to create a new environment.
                        <ul>
                            <li>Create a new Python 3.12 environment</li>
                        </ul>
                    </li>
                </ol>
            </section>

            <section id="through-the-shell" class="level3">
                <h3>Through the Shell</h3>

                <section id="macos">
                    <h3>On MacOS</h3>
                    <ol>
                        <li>Open up a terminal</li>
                        <li>Check that Python 3.12 is in your path by typing “python” and hitting “Tab”</li>
                        <li>Change to the directory in which you wish to create the virtual environment. For instance, if you wish to navigate to a folder named <code>/Users/rich/dsa3101</code>, then you can type:</li>
                        <div class="cell">
                            <pre class="sourceCode"><code>cd /Users/rich/dsa3101</code></pre>
                        </div>
                        <li>The following command will create a virtual environment in the current directory:</li>
                        <div class="cell">
                            <pre class="sourceCode"><code>python3.12 -m venv .</code></pre>
                        </div>
                    </ol>
                </section>

                <section id="windows-gitbash">
                    <h3>On Windows (git bash)</h3>
                    <p>git bash modifies pathnames slightly on Windows - it removes the colon and replaces the backslash with the forward slash. The forward slash is used in all UNIX-based operating systems. Hence <code>C:\Users\rich</code> is modified to <code>/c/users/rich</code> by the git bash shell.</p>
                    <p>To navigate from within here, start with:</p>
                    <div class="cell">
                        <pre class="sourceCode"><code>cd /c/users/rich/NUS/classes/dsa3101</code></pre>
                    </div>
                    <p>The following command will create a virtual environment in the current directory:</p>
                    <div class="cell">
                        <pre class="sourceCode"><code>winpty python -m venv .</code></pre>
                    </div>
                    <p>In git bash on Windows, <code>winpty</code> is necessary when running interactive applications (e.g., Python).</p>
                </section>
                
                <section id="windows-cmd">
                    <h3>On Windows (command prompt or PowerShell)</h3>
                    <p>Simply navigate to your desired folder:</p>
                    <div class="cell">
                        <pre class="sourceCode"><code>cd C:\Users\rich\desired-folder</code></pre>
                    </div>
                    <p>The following command will create a virtual environment in the current directory:</p>
                    <div class="cell">
                        <pre class="sourceCode"><code>python -m venv .</code></pre>
                    </div>
                </section>
        </section>

        <section id="activating-a-virtual-environment" class="level2">
            <h2><span class="header-section-number">1.3</span> Activating a Virtual Environment</h2>
            <p>To activate a virtual environment, we need to run a script (<code>activate</code>) that resides within the virtual environment directory.</p>

            <section id="macos-activate">
                <h3>On MacOS</h3>
                <p>The script will be in the <code>bin</code> folder:</p>
                <div class="cell">
                    <pre class="sourceCode"><code>source bin/activate</code></pre>
                </div>
            </section>

            <section id="windows-activate">
                <h3>On Windows</h3>
                <p>The script will be in the <code>Scripts</code> folder:</p>
                <p>On git bash, you will have to run:</p>
                <div class="cell">
                    <pre class="sourceCode"><code>source /Scripts/activate</code></pre>
                </div>
                <p>On the command line or PowerShell, run:</p>
                <div class="cell">
                    <pre class="sourceCode"><code>Scripts\activate</code></pre>
                </div>
                <p>If you are using Windows PowerShell, and you encounter a SecurityError, use the following command to fix it:</p>
                <div class="cell">
                    <pre class="sourceCode"><code>Set-ExecutionPolicy Unrestricted -Scope Process</code></pre>
                </div>
                <p>If you have successfully activated the environment, you should see the name of the environment in parenthesis.</p>
            </section>
        </section>

        <section id="deactivating-a-virtual-environment" class="level2">
            <h2><span class

="header-section-number">1.4</span> Deactivating a Virtual Environment</h2>
            <p>To deactivate the environment, simply run:</p>
            <div class="cell">
                <pre class="sourceCode"><code>deactivate</code></pre>
            </div>
            <p>This will return your command prompt to the system default Python interpreter and path.</p>
        </section>

        <section id="additional-information" class="level2">
            <h2><span class="header-section-number">1.5</span> Additional Information</h2>
            <p>Refer to the official Python documentation for more details and options for managing virtual environments:</p>
            <a href="https://docs.python.org/3/library/venv.html" target="_blank">Python venv Documentation</a>
        </section>
    </section>
</body>
</html>